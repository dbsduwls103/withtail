<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="myPage">
	<select id="listMyPages" parameterType="com.sp.withtail.myPage.MyPage" resultType="com.sp.withtail.myPage.MyPage">
		SELECT petName, breed, gender, whichPet, petsImageFilename, num
		FROM animal
		WHERE userId = #{userId}
	</select>
	
	<select id="readPet" parameterType="Long" resultType="com.sp.withtail.myPage.MyPage">
		SELECT num, petName, breed, gender, whichPet, petsImageFilename, weight, TO_CHAR(birth, 'YYYY"년"MM"월"DD"일" DY"요일"') AS birth,
		        TO_CHAR(birth, 'YYYY-MM-DD') AS birth2
		FROM animal
		WHERE num = ${num}
	</select>
	
	<delete id="deletePet" parameterType="Long"> 
		DELETE FROM animal WHERE num = #{num}
	</delete>
	
	<select id="dataCount" parameterType="String" resultType="Integer">
		SELECT NVL(COUNT(*), 0)
		FROM animal
		WHERE userId = #{userId}
	</select>
</mapper>

